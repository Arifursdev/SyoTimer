/** SyoTimer v.1.1.0 | MIT licence */
!function(e){function t(t,n){var i,d=n.dayVisible?a("day","0"):"";i='<div class="timer-head-block">'+n.headTitle+'</div><div class="timer-body-block">'+d+a("hour")+a("minute")+a("second")+'</div><div class="timer-foot-block">'+n.footTitle+"</div>",t.addClass("timer").html(i);var l=e(".timer-head-block",t),s=e(".timer-body-block",t),o=e(".timer-foot-block",t),r={headBlock:l,bodyBlock:s,footBlock:o};return e.extend(t,r)}function a(e,t){return e=e||"",t=t||"00",'<div class="table-cell '+e+'"><div class="tab-val">'+t+'</div><div class="tab-metr"></div></div>'}function n(e,t){return t=t!==!1,e<=9&&t?"0"+e:""+e}function i(e,t,a){switch(a){case"rus":var n=[2,0,1,1,1,2];return t[e%100>4&&e%100<20?2:n[e%10<5?e%10:5]];case"eng":return t[1==e?0:1]}}var d=86400,l=3600,s=60,o={rus:{second:["секунда","секунды","секунд"],minute:["минута","минуты","минут"],hour:["час","часа","часов"],day:["день","дня","дней"]},eng:{second:["second","seconds"],minute:["minute","minutes"],hour:["hour","hours"],day:["day","days"]}};e.fn.syotimer=function(a){var r={year:2014,month:7,day:31,hour:0,minute:0,second:0,periodic:!1,periodInterval:7,periodUnit:"d",dayVisible:!0,dubleNumbers:!0,effectType:"none",lang:"eng",headTitle:"",footTitle:"",afterDeadline:function(e){e.bodyBlock.html('<p style="font-size: 1.2em;">The countdown is finished!</p>')}},c=e.extend(r,a||{}),m=this;return m.each(function(){var a=e(this);a=t(a,c),function r(){if(e(".second .tab-val",a).css("opacity",1),Now=new Date,DeadDate=new Date(c.year,c.month-1,c.day,c.hour,c.minute,c.second),different=Math.floor((DeadDate.getTime()-Now.getTime())/1e3),c.periodic){switch(c.periodUnit){case"d":unit_ms=d;break;case"h":unit_ms=l;break;case"m":unit_ms=s;break;case"s":unit_ms=1}differentUnits=Math.abs(Math.ceil((DeadDate.getTime()-Now.getTime())/(1e3*unit_ms))),different>=0?(dUnits=differentUnits%c.periodInterval,dUnits=0==dUnits?c.periodInterval-1:dUnits-1):dUnits=c.periodInterval-differentUnits%c.periodInterval,addUnits=different%unit_ms,0==addUnits&&different<0&&dUnits--,alls=Math.abs(dUnits*unit_ms+addUnits)}else alls=different;if(alls>=0)switch(dd=Math.floor(alls/d),alls%=d,dh=Math.floor(alls/l),alls%=l,dm=Math.floor(alls/s),alls%=s,ds=Math.floor(alls),c.dayVisible?(e(".day .tab-val",a).html(dd),e(".day .tab-metr",a).html(i(dd,o[c.lang].day,c.lang)),e(".hour .tab-val",a).html(n(dh,c.dubleNumbers)),e(".hour .tab-metr",a).html(i(dh,o[c.lang].hour,c.lang))):(dh+=24*dd,e(".hour .tab-val",a).html(n(dh,c.dubleNumbers)),e(".hour .tab-metr",a).html(i(dh,o[c.lang].hour,c.lang))),e(".minute .tab-val",a).html(n(dm,c.dubleNumbers)),e(".minute .tab-metr",a).html(i(dm,o[c.lang].minute,c.lang)),e(".second .tab-val",a).html(n(ds,c.dubleNumbers)),e(".second .tab-metr",a).html(i(ds,o[c.lang].second,c.lang)),c.effectType){case"none":setTimeout(function(){r()},1e3);break;case"opacity":e(".second .tab-val",a).animate({opacity:.1},1e3,"linear",r)}else c.afterDeadline(a)}()})}}(jQuery);